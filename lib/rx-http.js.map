{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a236397cb58ee7e32836","webpack:///external {\"root\":\"_\",\"commonjs2\":[\"lodash\"],\"commonjs\":\"lodash\",\"amd\":\"lodash\"}","webpack:///./src/interceptors.js","webpack:///./src/utilities.js","webpack:///./src/url.js","webpack:///./src/headers.js","webpack:///./src/exceptions.js","webpack:///./src/path.js","webpack:///./src/http.js","webpack:///./src/index.js","webpack:///./src/request.js","webpack:///./src/response.js","webpack:///./src/xhr-builder.js","webpack:///./src/xhr-provider.js","webpack:///external {\"root\":\"Cookies\",\"commonjs2\":[\"js-cookie\"],\"commonjs\":\"js-cookie\",\"amd\":\"js-cookie\"}","webpack:///external {\"root\":\"Rx\",\"commonjs2\":[\"rxjs\"],\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}"],"names":["RequestInterceptorChain","ResponseInterceptorChain","BROWSER_METHODS","Interceptors","BodyTransformer","request","accept","reject","body","json","JSON","stringify","XSRF","xsrfToken","get","xsrfCookieName","xsrfHeader","xsrfHeaderName","header","ErrorHandling","response","status","MethodOverride","originalMethod","method","some","m","interceptors","defaultRequest","good","defaultRequestError","error","bad","failure","remaining","recover","step","rest","err","interceptor","xs","transform","requestError","next","run","success","defaultResponse","defaultResponseError","responseError","isFile","isFormData","isBlob","parseUri","value","toString","call","str","o","options","parser","strictMode","exec","uri","i","key","q","name","replace","$0","$1","$2","strict","loose","Url","encode","val","encodeURIComponent","url","self","parts","property","protocol","user","password","host","port","directory","file","fragment","isAbsolute","isRelative","query","userInfo","u","p","trim","authority","pr","ui","h","path","dir","f","substring","merge","other","copied","otherParts","propertiesToMerge","forEach","serializeQuery","auth","querySerializer","fullyQualified","queryParts","accum","pair","push","fullyQualifiedWithQuery","join","CONTENT_TYPE","TRANSFER_ENCODING","PropertyValidationException","separator","initial","arguments","args","slice","Http","settings","defaults","isValid","addInterceptor","removeInterceptor","fullUrl","baseUrl","parsed","config","generateRequestMethod","toLowerCase","retries","timeout","withCredentials","provider","module","exports","Headers","_method","WeakMap","_headers","_body","_url","_retries","_interceptors","_xsrfCookieName","_xsrfHeaderName","_withCredentials","_username","_password","_provider","Request","set","headers","username","newUrl","Response","xhr","uploadProgress","downloadProgress","lazy","_value","statusText","getAllResponseHeaders","isChunked","transferEncoding","indexOf","c","window","chrome","loadTimes","chromeSpdy","wasFetchedViaSpdy","ffSpdy","STATE","UNSENT","OPEN","HEADERS_RECEIVED","LOADING","DONE","XHRBuilder","headersReceived","complete","progress","abort","load","loadEnd","fn","req","XMLHttpRequest","openArgs","open","Object","keys","setRequestHeader","headerName","upload","addEventListener","evt","readyState","XHRProvider","attempt","observable","offset","Subject","all","errorAll","completeAll","exceptionHandler","nextChunk","chunk","responseText","length","onHeadersReceived","responseChain","transformedResponse","onUploadProgress","onDownloadProgress","onLoad","onError","onAbort","onLoadEnd","build","transformed","send","requestChain","Observable","create"],"mappings":"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","file":"rx-http.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(\"js-cookie\"), require(\"rxjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rx-http\", [\"lodash\", \"js-cookie\", \"rxjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rx-http\"] = factory(require(\"lodash\"), require(\"js-cookie\"), require(\"rxjs\"));\n\telse\n\t\troot[\"rx-http\"] = factory(root[\"_\"], root[\"Cookies\"], root[\"Rx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a236397cb58ee7e32836","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"_\",\"commonjs2\":[\"lodash\"],\"commonjs\":\"lodash\",\"amd\":\"lodash\"}\n// module id = 0\n// module chunks = 0","import { isObject, isString, isEmpty, head, tail, partial } from 'lodash';\nimport Cookies from 'js-cookie';\nimport { isFile, isFormData, isBlob } from './utilities';\n\nconst BROWSER_METHODS = ['GET', 'POST'];\n\nexport const Interceptors = {\n\n  BodyTransformer: {\n    request: (request, accept, reject) => {\n      const body = request.body();\n\n      if (isObject(body) && !isFile(body) && !isFormData(body) && !isBlob(body)) {\n        const json = JSON.stringify(body);\n\n        request.body(json);\n      }\n\n      accept(request);\n    }\n  },\n\n  XSRF: {\n    request: (request, accept, reject) => {\n      const xsrfToken = Cookies.get(request.xsrfCookieName());\n      const xsrfHeader = request.xsrfHeaderName();\n\n      if (isString(xsrfToken)) {\n        request.header(xsrfHeader, xsrfToken);\n      }\n\n      accept(request);\n    }\n  },\n\n  ErrorHandling: {\n    response: (response, accept, reject) => {\n      if (response.status() / 100 === 2) {\n        accept(response);\n      } else {\n        reject(response);\n      }\n    }\n  },\n\n  MethodOverride: {\n    request: (request, accept, reject) => {\n      const originalMethod = request.method();\n\n      if (!BROWSER_METHODS.some(m => m === originalMethod)) {\n        request\n          .method('POST')\n          .header('X-HTTP-Method-Override', originalMethod);\n      }\n\n      accept(request);\n    }\n  }\n};\n\n/**\n * Runs the request interceptors, and requestError interceptors if necessary.\n * @class\n * @param {Object[]} interceptors - The array of interceptors to be run\n * @param {Function} accept - Callback that is invoked with the final request\n * object after all interceptors have run successfully.\n * @param {Function} reject - Callback that is invoked with an error object\n * if all of the interceptors fail to recover from an error.\n */\nexport function RequestInterceptorChain(interceptors, accept, reject) {\n  /**\n   * Pass-through accept for the request.\n   */\n  function defaultRequest(request, good) {\n    good(request);\n  }\n\n  /**\n   * Immediately rejects the error without trying to recover.\n   */\n  function defaultRequestError(error, good, bad) {\n    bad(error);\n  }\n\n  /**\n   * Handler for a rejected interceptor.  Runs requestError interceptor for\n   * all interceptors following the failure, in an attempt to recover.\n   * If one of the interceptors manages to recover, hop back into the next\n   * interceptor after the initial failure.\n   */\n  function failure(remaining, recover) {\n    return function (error) {\n      function step(rest, err) {\n        if (!isEmpty(rest)) {\n          const interceptor = head(rest);\n          const xs = tail(rest);\n          const transform = interceptor.requestError || defaultRequestError;\n          const next = partial(step, xs);\n\n          transform(err, recover, next);\n        } else {\n          reject(err);\n        }\n      }\n\n      step(remaining, error);\n    };\n  }\n\n  /** @method\n   * Runs the request through the chain of request interceptors\n   * @name run\n   */\n  this.run = function (request) {\n    function step(remaining, next) {\n      if (!isEmpty(remaining)) {\n        const interceptor = head(remaining);\n        const xs = tail(remaining);\n        const transform = interceptor.request || defaultRequest;\n        const success = partial(step, xs);\n\n        transform(request, success, failure(xs, success));\n      } else {\n        accept(request);\n      }\n    }\n\n    step(interceptors, request);\n  };\n}\n\n/**\n * Runs the response interceptors, and responseError interceptors if necessary.\n * @class\n * @param {Object[]} interceptors - The array of interceptors to be run\n * @param {Function} accept - Callback that is invoked with the final response\n * object after all interceptors have run successfully.\n * @param {Function} reject - Callback that is invoked with an error object\n * if all of the interceptors fail to recover from an error.\n */\nexport function ResponseInterceptorChain(interceptors, accept, reject) {\n  /**\n   * Pass-through accept for the response.\n   */\n  function defaultResponse(response, good) {\n    good(response);\n  }\n\n  /**\n   * Immediately rejects the error without trying to recover.\n   */\n  function defaultResponseError(error, good, bad) {\n    bad(error);\n  }\n\n  /**\n   * Handler for a rejected interceptor.  Runs responseError interceptor for\n   * all interceptors following the failure, in an attempt to recover.\n   * If one of the interceptors manages to recover, hop back into the next\n   * interceptor after the initial failure.\n   */\n  function failure(remaining, recover) {\n    return function (error) {\n      function step(rest, err) {\n        if (isEmpty(rest)) {\n          const interceptor = head(rest);\n          const xs = tail(rest);\n          const transform = interceptor.responseError || defaultResponseError;\n          const next = partial(step, xs);\n\n          transform(err, recover, next);\n        } else {\n          reject(err);\n        }\n      }\n\n      step(remaining, error);\n    };\n  }\n\n  /** @method\n   * Runs the response through the chain of response interceptors\n   * @name run\n   */\n  this.run = function (response) {\n    function step(remaining, next) {\n      if (!isEmpty(remaining)) {\n        const interceptor = head(remaining);\n        const xs = tail(remaining);\n        const transform = interceptor.response || defaultResponse;\n        const success = partial(step, xs);\n\n        transform(response, success, failure(xs, success));\n      } else {\n        accept(response);\n      }\n    }\n\n    step(interceptors, response);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors.js","/** @module utilities\n * @private\n */\n \nexport function isFile(value) {\n  return toString.call(value) === '[object File]';\n}\n\nexport function isFormData(value) {\n  return toString.call(value) === '[object FormData]';\n}\n\nexport function isBlob(value) {\n  return toString.call(value) === '[object Blob]';\n}\n\n// parseUri 1.2.2\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\n\nexport function parseUri(str) {\n  let\to = parseUri.options;\n  let m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  let uri = {};\n  let i = 14;\n\n  while (i--) uri[o.key[i]] = m[i] || '';\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) uri[o.q.name][$1] = $2;\n  });\n\n  return uri;\n};\n\nparseUri.options = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor'\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n  },\n  parser: {\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js","import {\n  isObject,\n  isString,\n  isUndefined,\n  isEmpty,\n  assign,\n  reduce,\n  endsWith,\n  startsWith,\n  identity,\n  cloneDeep\n} from 'lodash';\nimport { parseUri } from './utilities';\n\nfunction encode(val) {\n  return encodeURIComponent(val)\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%20/g, '+')\n    .replace(/%5B/gi, '[')\n    .replace(/%5D/gi, ']');\n}\n\nexport default function Url(url) {\n  const self = this;\n  let parts = {};\n\n  if (isObject(url)) {\n    assign(parts, url);\n  } else if (isString(url)) {\n    parts = parseUri(url);\n  }\n\n  function property(key) {\n    return function (value) {\n      if (isUndefined(value)) {\n        return parts[key];\n      }\n      parts[key] = value;\n      return self;\n    };\n  }\n\n  const protocol = this.protocol = property('protocol');\n  const user = this.user = property('user');\n  const password = this.password = property('password');\n  const host = this.host = property('host');\n  const port = this.port = property('port');\n  const directory = this.directory = property('directory');\n  const file = this.file = property('file');\n  const fragment = this.fragment = property('fragment');\n\n  const isAbsolute = this.isAbsolute = () => !!host;\n\n  const isRelative = this.isRelative = () => !isAbsolute();\n\n  /** @method\n   * @name query\n   * @param {string|object} [name] - The name of the query-string parameter\n   * @param [value] - The value of the query-string parameter\n   * @returns {object|string|Request} -\n   * If no parameters are specified - returns a copy of the entire query hash.\n   * @example\n   * {{\n   *   request.query() // returns { \"foo\": \"bar\" }\n   * }}\n   * If only name is specified, and name is a string - returns the value for the key in the query hash.\n   * @example\n   * {{\n   *    request.query(\"foo\") // returns \"bar\"\n   * }}\n   * If only name is specified, and name is an object - replaces the entire query hash\n   * and returns the current Request.\n   * @example\n   * {{\n   *    request.query({ \"foo\": \"bar\", \"baz\": 1 }).execute()\n   * }}\n   * If name and value are specified - sets the value of name in the query hash\n   * and returns the current Request.\n   * @example\n   * {{\n   *   request.query(\"foo\", \"bar\").execute()\n   * }}\n   */\n  const query = this.query = function (name, value) {\n    if (isUndefined(name)) {\n      if (isUndefined(value)) {\n        if (isObject(name)) {\n          parts.query = name;\n          return self;\n        }\n        return parts.query[name];\n      }\n      parts.query[name] = value;\n      return self;\n    }\n    return assign({}, parts.query);\n  };\n\n  const userInfo = this.userInfo = function () {\n    const u = user();\n    const p = password();\n\n    if (isString(u) && !isEmpty(u.trim()) && isString(p) && isEmpty(p.trim())) {\n      return `${u}:${p}`;\n    }\n\n    return null;\n  };\n\n  const authority = this.authority = function () {\n    const pr = protocol() ? `${protocol()}://` : '';\n    const ui = userInfo() ? `${userInfo()}@` : '';\n    const h = host() || '';\n    const p = port() ? `:${port()}` : '';\n\n    return pr + ui + h + p;\n  };\n\n  const path = this.path = function () {\n    let dir = directory() || '';\n    let f = file() || '';\n\n    if (endsWith(dir, '/')) {\n      if (startsWith(f, '/')) {\n        return dir + f.substring(1);\n      }\n\n      return dir + f;\n    } else if (startsWith(f, '/')) {\n      return dir + f;\n    }\n\n    return `${dir}/${f}`;\n  };\n\n  this.merge = function(other) {\n    const copied = cloneDeep(parts);\n    const otherParts = parseUri(other.toString());\n    const propertiesToMerge = ['directory', 'file', 'fragment', 'path', 'query'];\n    propertiesToMerge.forEach((property) => {\n      if (!!otherParts[property]) {\n        copied[property] = otherParts[property];\n      } else if (!!copied[property]) {\n        delete copied[property];\n      }\n    });\n\n    return new Url(copied);\n  }\n\n  /** @method\n   * @name toString\n   */\n  this.toString = function (serializeQuery) {\n    const auth = authority();\n    const p = path();\n    const f = fragment();\n    const querySerializer = serializeQuery || identity;\n    const q = querySerializer(query());\n\n    const fullyQualified = (() => {\n      if (endsWith(auth, '/')) {\n        if (endsWith(p, '/')) {\n          return auth + p.substring(1);\n        }\n\n        return auth + p;\n      } else if (startsWith(p, '/')) {\n        return auth + p;\n      }\n\n      return `${auth}/${p}`;\n    })();\n\n    const queryParts = reduce(q, (accum, value, key) => {\n      let pair = `${encode(key)}=${encode(value)}`;\n\n      accum.push(pair);\n      return accum;\n    }, []);\n\n    const fullyQualifiedWithQuery = (() => {\n      if (!isEmpty(queryParts)) {\n        return `${fullyQualified}?${queryParts.join('&')}`;\n      }\n\n      return fullyQualified;\n    })();\n\n    if (!isEmpty(f)) {\n      return `${fullyQualifiedWithQuery}#${f}`;\n    }\n\n    return fullyQualifiedWithQuery;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/url.js","export default {\n\n  CONTENT_TYPE: \"Content-Type\",\n\n  TRANSFER_ENCODING: \"Transfer-Encoding\"\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/headers.js","export default class PropertyValidationException {\n  constructor(property, value) {\n    this.property = property;\n    this.value = value;\n  }\n\n  toString() {\n    return `Value ${this.value} is not valid for property ${this.property}`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/exceptions.js","import { reduce, startsWith, endsWith } from 'lodash';\n\nexport default {\n  separator: '/',\n\n  join() {\n    const separator = this.separator;\n    const initial = arguments[0];\n    const args = [...arguments].slice(1)\n\n    return reduce(args, (accum, value) => {\n      if (value.trim() != '') {\n        if (endsWith(accum, separator) && startsWith(value, separator)) {\n          accum += value.substring(1);\n        } else if (endsWith(accum, separator) || startsWith(value, separator)) {\n          accum += value;\n        } else {\n          accum += '/' + value;\n        }\n      }\n\n      return accum;\n    }, initial);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/path.js","import { isString, isInteger, isArray, isUndefined, assign, defaults, remove } from 'lodash';\nimport Request from './request';\nimport { Interceptors } from './interceptors';\nimport XHRProvider from './xhr-provider';\nimport Url from './url';\nimport Path from './path';\nimport { PropertyValidationException } from './exceptions';\nimport { parseUri } from './utilities';\n\n/**\n * An HTTP client.\n * @class\n * @param {Object} [options] - A hash of settings for this client.\n */\nfunction Http(options = {}) {\n  const self = this;\n  const settings = assign({}, Http.defaults, options);\n\n  function property(key, isValid) {\n    self[key] = function (value) {\n      if (isUndefined(value)) {\n        return settings[key];\n      } else if (isValid(value)) {\n        settings[key] = value;\n        return self;\n      } else {\n        throw new PropertyValidationException(key, value);\n      }\n    };\n  }\n\n  /** @method\n   * @name baseUrl\n   * @param {string|Http} [url] - the base URL applied by default to all\n   * requests from this client.\n   * @returns {string|Http} - If url is specified, updates the default baseUrl\n   * for all requests created with this client, and returns the client instance.\n   * If value is ommitted, returns the current baseUrl.\n   */\n  property('baseUrl', isString);\n\n  /** @method\n   * @name timeout\n   * @param {number} [value] - The request timeout in milliseconds\n   * @returns {number|Http} - If value is specified, updates the default request\n   * timeout for all requests created with this client, and returns the client\n   * instance.  If value is ommitted, returns the current timeout value.\n   */\n  property('timeout', isInteger);\n\n  /** @method\n   * @name retries\n   * @param {number} [value] - The number of retries allowed\n   * @returns {number|Http} - If count is specified, sets the default number\n   * of retries allowed for requests from this client, and returns the client\n   * instance.  If count is ommitted, returns the current value.\n   */\n  property('retries', isInteger);\n\n  /** @method\n   * @name interceptors\n   * @param {Object[]} [values] - An array of interceptors.\n   * @returns {Object[]|Http} - If values is specified, replaces the default\n   * interceptors for all requests from this client, and returns the client\n   * instance.  If values is ommitted, returns the current array of\n   * interceptors.\n   */\n  property('interceptors', isArray);\n\n  /** @method\n   * @name addInterceptor\n   * @param {Object} interceptor - Add the interceptor to the end of the\n   * chain of interceptors.\n   * @return {Http} - The current client instance.\n   */\n  this.addInterceptor = function (interceptor) {\n    settings.interceptors.push(interceptor);\n    return this;\n  };\n\n  /** @method\n   * @name removeInterceptor\n   * @param interceptor - Remove the interceptor from the chain of interceptors.\n   * @returns {Http} - The current client instance.\n   */\n  this.removeInterceptor = function (interceptor) {\n    settings.interceptors = remove(settings.interceptors, (i) => i === interceptor);\n    return this;\n  };\n\n  /** @method\n  * @name request\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).request('/some/stuff', {\n  *      method: 'POST',\n  *      body: { foo: \"bar\", baz: 1 },\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  const request = this.request = function (url, options = {}) {\n    let fullUrl = url;\n    if (settings.baseUrl) {\n      fullUrl = Path.join(settings.baseUrl, url);\n    }\n\n    const parsed = parseUri(fullUrl);\n    const config = defaults(options, settings);\n\n    assign(parsed.query, options.query);\n    assign(config, { url: new Url(parsed) });\n    \n    return new Request(config);\n  };\n\n  function generateRequestMethod(method) {\n    self[method.toLowerCase()] = function (url, options = {}) {\n      return request(url, assign({ method }, options));\n    };\n  }\n\n  /** @method\n  * @name head\n  * Helper method for request.  Automatically sets method to HEAD.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).head('/some/stuff', {\n  *      retries: 2,\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('HEAD');\n\n  /** @method\n  * @name get\n  * Helper method for request.  Automatically sets method to GET.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).get('/some/stuff', {\n  *      retries: 2\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('GET');\n\n  /** @method\n  * @name options\n  * Helper method for request.  Automatically sets method to OPTIONS.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).head('/some/stuff', {\n  *      retries: 2,\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('OPTIONS');\n\n  /** @method\n  * @name delete\n  * Helper method for request.  Automatically sets method to DELETE.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).delete('/some/stuff', {\n  *      retries: 2,\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('DELETE');\n\n  /** @method\n  * @name trace\n  * Helper method for request.  Automatically sets method to TRACE.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).trace('/some/stuff', {\n  *      retries: 2,\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('TRACE');\n\n  /** @method\n  * @name post\n  * Helper method for request.  Automatically sets method to POST.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).post('/some/stuff', {\n  *      body: { foo: \"bar\", baz: 1 },\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('POST');\n\n  /** @method\n  * @name put\n  * Helper method for request.  Automatically sets method to PUT.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).put('/some/stuff', {\n  *      body: { foo: \"bar\", baz: 1 },\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('PUT');\n\n  /** @method\n  * @name patch\n  * Helper method for request.  Automatically sets method to PATCH.\n  * @param {string} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {@link Request}\n  * @example\n  * {{\n  *    new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).patch('/some/stuff', {\n  *      body: { foo: \"bar\", baz: 1 },\n  *      timeout: 10000\n  *    })\n  * }}\n  **/\n  generateRequestMethod('PATCH');\n}\n\nHttp.defaults = {\n  baseUrl: '',\n  retries: 0,\n  timeout: 30000,\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n  withCredentials: false,\n  interceptors: [\n    Interceptors.MethodOverride,\n    Interceptors.BodyTransformer,\n    Interceptors.XSRF,\n    Interceptors.ErrorHandling\n  ],\n  provider: XHRProvider\n};\n\nmodule.exports = Http;\n\n\n\n// WEBPACK FOOTER //\n// ./src/http.js","import Url from './url';\nimport Http from './http';\nimport Headers from './headers';\nimport { Interceptors } from './interceptors';\n\nexport {\n  Url,\n  Http,\n  Headers,\n  Interceptors\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { isUndefined, identity, assign, isString, isObject } from 'lodash';\nimport PropertyValidationException from './exceptions';\nimport Path from './path';\nimport Url from './url';\nimport { parseUri } from './utilities';\n\nlet _method = new WeakMap();\nlet _headers = new WeakMap();\nlet _body = new WeakMap();\nlet _url = new WeakMap();\nlet _retries = new WeakMap();\nlet _interceptors = new WeakMap();\nlet _xsrfCookieName = new WeakMap();\nlet _xsrfHeaderName = new WeakMap();\nlet _withCredentials = new WeakMap();\nlet _username = new WeakMap();\nlet _password = new WeakMap();\nlet _provider = new WeakMap();\n\n/**\n * A Request should only ever be created by an instance of {@link Http}\n * @class\n * @param {Object} config - Override default settings for this Request only.\n */\nexport default class Request {\n  constructor(config) {\n    _method.set(this, config.method || null);\n    _headers.set(this, config.headers || {});\n    _body.set(this, config.body || null);\n    _url.set(this, config.url || null);\n    _retries.set(this, config.retries || 0);\n    _interceptors.set(this, config.interceptors || {})\n    _xsrfCookieName.set(this, config.xsrfCookieName);\n    _xsrfHeaderName.set(this, config.xsrfHeaderName);\n    _withCredentials.set(this, !!config.withCredentials);\n    _username.set(this, config.username || null);\n    _password.set(this, config.password || null);\n    _provider.set(this, config.provider);\n  }\n\n  /** @method\n   * @name method\n   * @param {string} [value] - The HTTP method for this request\n   * @returns {string|Request} - If value is specified, sets the HTTP method\n   * for this request and returns the current Request.  If value is ommitted,\n   * returns the current HTTP method\n   */\n  method(value) {\n    if (isUndefined(value)) {\n     return _method.get(this);\n    }\n\n    _method.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name header\n   * @param {string} name - The name of the header\n   * @param {string} [value] - The value to assign to the header\n   * @returns {string|Request} - If value is specified, sets the header\n   * and returns the current Request.  If value is ommitted, returns the\n   * value for the header.\n   */\n  header(name, value) {\n    let headers = _headers.get(this);\n    if (isUndefined(value)) {\n      return headers[name];\n    }\n    headers[name] = value.toString();\n    _headers.set(this, headers);\n    return this;\n  }\n\n  /** @method\n   * @name headers\n   * @param {Object} [value] - The hash of headers to send with this request.\n   * Replaces any existing headers\n   * @returns {object|Request} - If value is specified, sets the headers\n   * and returns the current Request.  If value is ommitted, returns a copy\n   * of the current headers.\n   */\n  headers(value) {\n    if (isUndefined(value)) {\n      return assign({}, _headers.get(this));\n    }\n\n    _headers.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name body\n   * @param {Object|FormData|Blob|File|string} [value] - The body for this request\n   * @returns {Object|FormData|Blob|File|string|Request} - If value is specified, sets the body\n   * for this request and returns the current Request.  If value is ommitted,\n   * returns the current body\n   */\n  body(value) {\n    if (isUndefined(value)) {\n     return _body.get(this);\n    }\n\n    _body.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name url\n   * @param {Url} [value] - The {@link Url} for this request.\n   * @returns {Url|Request} - If value is specified, sets the {@link Url} for\n   * this request and returns the current Request.  If value is ommitted,\n   * returns the current {@link Url}.\n   */\n  url(value) {\n    if (isUndefined(value)) {\n      return _url.get(this);\n    }\n\n    if (value instanceof Url) {\n      _url.set(this, value);\n      return this;\n    } else if (isString(value) || isObject(value)) {\n      const newUrl = new Url(url);\n      if (newUrl.isAbsolute()) {\n        _url.set(this, newUrl);\n        return this;\n      } else if (_url.get(this) && _url.get().isAbsolute()) {\n        _url.set(this, _url.get(this).merge(newUrl));\n        return this;\n      }\n    }\n\n    throw new PropertyValidationException('url', url);\n  }\n\n  /** @method\n   * @name retries\n   * @param {number} [value] - The number of times this request will be retried on failure.\n   * @returns {number|Request} - If value is specified, sets the number of retries\n   * for this request and returns the current Request.  If value is ommitted,\n   * returns the current number of retries.\n   */\n  retries(value) {\n    if (isUndefined(value)) {\n      return _retries.get(this);\n    }\n    _retries.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name interceptors\n   * @param {Object} [value] - The set of interceptors to be run against this Request and/or Response\n   * @returns {Object|Request} - If value is specified, overrides the current set of interceptors\n   * for this Request and/or Response and returns the current Request.  If value is ommitted,\n   * returns the current set of interceptors.\n   */\n  interceptors(value) {\n    if (isUndefined(value)) {\n      return _interceptors.get(this);\n    }\n    _interceptors.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name xsrfCookieName\n   * @param {string} [value] - The name of the XSRF cookie\n   * @returns {string|Request} - If the value is specified, sets the name of the XSRF Cookie\n   * and returns the current Request.  If value is ommitted, returns the current name.\n   */\n  xsrfCookieName(value) {\n    if (isUndefined(value)) {\n      return _xsrfCookieName.get(this);\n    }\n    _xsrfCookieName.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name xsrfHeaderName\n   * @param {string} [value] - The name of the XSRF header\n   * @returns {string|Request} - If the value is specified, sets the name of the XSRF Header\n   * and returns the current Request.  If value is ommitted, returns the current name.\n   */\n  xsrfHeaderName(value) {\n    if (isUndefined(value)) {\n      return _xsrfHeaderName.get(this);\n    }\n    _xsrfHeaderName.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name withCredentials\n   * @param {boolean} [value] - Flag indicating whether cross-site AccessControl\n   * requests should be made using cookies, authorization headers, or TLS client\n   * certificates.  More detail: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n   * @returns {boolean|Request} - If the value is specified, sets the withCredentials flag\n   * and returns the current Request.  If value is ommitted, returns the current\n   * value of the flag.\n   */\n  withCredentials(value) {\n    if (isUndefined(value)) {\n      return this.config.withCredentials = value;\n    }\n    this.config.withCredentials = value;\n    return this;\n  }\n\n  /** @method\n   * @name username\n   * @param {string} [value] - Basic auth username\n   * @returns {string|Request} - If the value is specified, sets the username and returns\n   * the current Request.  If value is ommitted, retursn the current username.\n   */\n  username(value) {\n    if (isUndefined(value)) {\n      return _username.get(this);\n    }\n    _username.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name password\n   * @param {string} [value] - Basic auth password\n   * @returns {string|Request} - If the value is specified, sets the password and returns\n   * the current Request.  If value is ommitted, retursn the current password.\n   */\n  password(value) {\n    if (isUndefined(value)) {\n      return _password.get(this);\n    }\n    _password.set(this, value);\n    return this;\n  }\n\n  /** @method\n   * @name execute\n   * @returns {Object} - Executes the request and returns an object containing\n   * the response, uploadProgress, and downloadProgress streams.\n   * @example\n   * var streams = request.execute();\n   * streams.flatMap(response => response.body()).forEach((body) => console.log(body));\n   * streams.flatmap(response => response.uploadProgress()).forEach((event) => console.log(event));\n   * streams.flatMap(response => response.downloadProgress()).forEach((event) => console.log(event));\n   */\n  execute() {\n    const provider = _provider.get(this);\n    return provider(this);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","import { isUndefined, isFunction } from 'lodash';\nimport Headers from './headers';\n\n/**\n * Immutable response container\n * @class\n */\nexport default function Response(xhr, body, uploadProgress, downloadProgress) {\n  self = this;\n\n  function lazy(value) {\n    let _value;\n\n    return function () {\n      if (!isUndefined(value)) {\n        if (isFunction(value)) {\n          _value = value();\n        } else {\n          _value = value;\n        }\n      }\n\n      return _value;\n    };\n  }\n\n  this.uploadProgress = lazy(uploadProgress);\n\n  this.downloadProgress = lazy(downloadProgress);\n\n  this.body = lazy(body);\n\n  this.status = lazy(xhr.status);\n\n  this.statusText = lazy(xhr.statusText);\n\n  this.headers = lazy(xhr.getAllResponseHeaders());\n\n  this.header = (name) => this.headers()[name];\n\n  this.isChunked = lazy(() => {\n    let transferEncoding = (self.header(Headers.TRANSFER_ENCODING) || '').toLowerCase();\n    let isChunked = transferEncoding.indexOf('chunked') > -1 ||\n                    transferEncoding.indexOf('identity') > -1;\n    // Detect SPDY. It uses chunked transfer but doesn't set the Transfer-Encoding header.\n    if (!isChunked) {\n      let c = window.chrome;\n      let loadTimes = c && c.loadTimes && c.loadTimes();\n      let chromeSpdy = loadTimes && loadTimes.wasFetchedViaSpdy;\n      let ffSpdy = !!self.header('X-Firefox-Spdy');\n      isChunked = ffSpdy || chromeSpdy;\n    }\n\n    return isChunked;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/response.js","import { isInteger, partial, noop } from 'lodash';\nimport { RequestInterceptorChain } from './interceptors';\n\nconst STATE = {\n  UNSENT: 0,\n  OPEN: 1,\n  HEADERS_RECEIVED: 2,\n  LOADING: 3,\n  DONE: 4\n}\n\n/**\n * Internal class used to construct and XMLHttpRequest\n * @class\n * @name XHRBuilder\n * @private\n */\nexport default class XHRBuilder {\n  constructor() {\n    this.headersReceived = noop;\n    this.downloadProgress = noop;\n    this.uploadProgress = noop;\n    this.complete = noop;\n    this.progress = noop;\n    this.error = noop;\n    this.abort = noop;\n    this.load = noop;\n    this.loadEnd = noop;\n  }\n\n  onHeadersReceived(fn) {\n    this.headersReceived = fn;\n    return this;\n  }\n\n  onDownloadProgress(fn) {\n    this.downloadProgress = fn;\n    return this;\n  }\n\n  onUploadProgress(fn) {\n    this.uploadProgress = fn;\n    return this;\n  }\n\n  onError(fn) {\n    this.error = fn;\n    return this;\n  }\n\n  onAbort(fn) {\n    this.abort = fn;\n    return this;\n  }\n\n  onLoad(fn) {\n    this.load = fn;\n    return this;\n  }\n\n  onLoadEnd(fn) {\n    this.loadEnd = fn;\n    return this;\n  }\n\n  request(req) {\n    this.req = req;\n    return this;\n  }\n\n  build() {\n    const self = this;\n    const request = this.req;\n    const xhr = new XMLHttpRequest();\n\n    const openArgs = [request.method(), request.url().toString(), true];\n    if (request.username()) {\n      openArgs.push(request.username());\n\n      if (request.password()) {\n        openArgs.push(request.password());\n      }\n    }\n\n    xhr.open(...openArgs);\n\n    if (isInteger(request)) {\n      xhr.timeout = request.timeout();\n    }\n\n    const headers = request.headers();\n\n    Object.keys(headers).forEach(headerName => {\n      xhr.setRequestHeader(headerName, headers[headerName]);\n    });\n\n    if (xhr.upload) {\n      xhr.upload.addEventListener('progress', self.uploadProgress);\n      xhr.upload.addEventListener('error', self.error);\n      xhr.upload.addEventListener('abort', self.abort);\n    }\n\n    xhr.addEventListener('progress', self.downloadProgress);\n    xhr.addEventListener('error', self.error);\n    xhr.addEventListener('abort', self.abort);\n    xhr.addEventListener('load', self.load);\n    xhr.addEventListener('loadend', self.loadEnd);\n\n    xhr.addEventListener('readystatechange', (evt) => {\n      if (xhr.readyState === STATE.HEADERS_RECEIVED) {\n        self.headersReceived(evt);\n      }\n    });\n\n    return xhr;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr-builder.js","import { partial, isInteger } from 'lodash';\nimport Rx from 'rxjs';\nimport XHRBuilder from './xhr-builder';\nimport Response from './response';\nimport { RequestInterceptorChain, ResponseInterceptorChain } from './interceptors';\n\n/** @function\n * Provider-implementation for browser-based clients.  Providers are simply\n * functions that take in a {@link Request} and return an RxJS Observable\n * that eventually contains the {@link Response}.\n * @name XHRProvider\n * @param {Request} request\n * @returns {Observable<Response>}\n */\nexport default function XHRProvider(request) {\n  const interceptors = request.interceptors();\n\n  function attempt(observable, retries = request.retries()) {\n    let response;\n    let offset = 0;\n    let body = new Rx.Subject();\n    let uploadProgress = new Rx.Subject();\n    let downloadProgress = new Rx.Subject();\n    let all = [observable, body, uploadProgress, downloadProgress];\n\n    function errorAll(err) {\n      all.forEach(o => o.error(err));\n    }\n\n    function completeAll() {\n      all.forEach(o => o.complete());\n    }\n\n    function exceptionHandler(evt) {\n      if (retries > 0) attempt(observable, retries - 1);\n      else errorAll(evt);\n    }\n\n    function nextChunk() {\n      let chunk = xhr.responseText.slice(offset);\n      offset = xhr.responseText.length;\n      body.next(chunk);\n    }\n\n    const xhr = new XHRBuilder()\n      .request(request)\n      .onHeadersReceived((evt) => {\n        response = new Response(\n          xhr,\n          body,\n          uploadProgress,\n          downloadProgress\n        );\n\n        const responseChain = new ResponseInterceptorChain(\n          interceptors,\n          (transformedResponse) => observable.next(transformedResponse),\n          exceptionHandler\n        );\n\n        responseChain.run(response);\n      })\n      .onUploadProgress((evt) => {\n        uploadProgress.next(evt);\n      })\n      .onDownloadProgress((evt) => {\n        downloadProgress.next(evt);\n        if (response.isChunked()) {\n          nextChunk();\n        }\n      })\n      .onLoad((evt) => {\n        if (response.isChunked()) {\n          if (xhr.responseText.length > offset) {\n            nextChunk();\n          }\n        } else {\n          body.next(xhr.responseText);\n        }\n      })\n      .onError(exceptionHandler)\n      .onAbort(exceptionHandler)\n      .onLoadEnd(completeAll)\n      .build();\n\n    const success = transformed => {\n      if (!!transformed.body()) xhr.send(transformed.body());\n      else xhr.send();\n    };\n\n    const requestChain = new RequestInterceptorChain(\n      interceptors,\n      success,\n      (err) => {\n        observable.error(err);\n        completeAll();\n      }\n    );\n\n    requestChain.run(request);\n  }\n\n  return Rx.Observable.create(attempt);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr-provider.js","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Cookies\",\"commonjs2\":[\"js-cookie\"],\"commonjs\":\"js-cookie\",\"amd\":\"js-cookie\"}\n// module id = 13\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Rx\",\"commonjs2\":[\"rxjs\"],\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}