{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8f4d0dcb9607ad8246be","webpack:///external {\"root\":\"_\",\"commonjs2\":[\"lodash\"],\"commonjs\":\"lodash\",\"amd\":\"lodash\"}","webpack:///./src/interceptor.js","webpack:///./src/utilities.js","webpack:///./src/exceptions.js","webpack:///./src/url.js","webpack:///./src/headers.js","webpack:///./src/interceptors/index.js","webpack:///./src/path.js","webpack:///./src/http.js","webpack:///./src/index.js","webpack:///./src/interceptors/body-transformer.js","webpack:///./src/interceptors/error-handling.js","webpack:///./src/interceptors/method-override.js","webpack:///./src/interceptors/xsrf.js","webpack:///./src/request-interceptor-chain.js","webpack:///./src/request.js","webpack:///./src/response-interceptor-chain.js","webpack:///./src/response.js","webpack:///./src/xhr-builder.js","webpack:///./src/xhr-provider.js","webpack:///external {\"root\":\"Cookies\",\"commonjs2\":[\"js-cookie\"],\"commonjs\":\"js-cookie\",\"amd\":\"js-cookie\"}","webpack:///external {\"root\":\"Rx\",\"commonjs2\":[\"rxjs\"],\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}"],"names":["Interceptor","request","accept","reject","error","response","isFile","isFormData","isBlob","parseUri","value","toString","call","str","o","options","m","parser","strictMode","exec","uri","i","key","q","name","replace","$0","$1","$2","strict","loose","PropertyValidationException","property","encode","val","encodeURIComponent","member","get","set","_protocol","WeakMap","_user","_password","_host","_port","_directory","_file","_fragment","_query","Url","parts","protocol","user","password","host","port","directory","file","fragment","isAbsolute","existing","u","p","trim","pr","ui","userInfo","h","dir","f","substring","other","copied","otherParts","propertiesToMerge","forEach","serializeQuery","auth","authority","path","querySerializer","query","fullyQualified","queryParts","accum","pair","push","fullyQualifiedWithQuery","join","factory","CONTENT_TYPE","TRANSFER_ENCODING","MethodOverride","BodyTransformer","XSRF","ErrorHandling","separator","initial","arguments","args","slice","Http","self","settings","defaults","isValid","baseUrl","timeout","retries","interceptors","addInterceptor","interceptor","removeInterceptor","url","fullUrl","parsed","config","generateRequestMethod","method","head","delete","trace","post","put","patch","xsrfCookieName","xsrfHeaderName","withCredentials","provider","module","exports","Headers","Interceptors","Exceptions","body","json","JSON","stringify","status","BROWSER_METHODS","originalMethod","some","header","xsrfToken","xsrfHeader","RequestInterceptorChain","failure","remaining","recover","step","rest","err","xs","transform","requestError","next","run","success","_method","_headers","_body","_url","_retries","_interceptors","_xsrfCookieName","_xsrfHeaderName","_withCredentials","_username","_provider","Request","headers","username","newUrl","merge","ResponseInterceptorChain","responseError","_status","_statusText","_uploadProgress","_downloadProgress","_isChunked","evaluateLazy","Response","xhr","uploadProgress","downloadProgress","statusText","getAllResponseHeaders","has","transferEncoding","toLowerCase","isChunked","indexOf","c","window","chrome","loadTimes","chromeSpdy","wasFetchedViaSpdy","ffSpdy","STATE","UNSENT","OPEN","HEADERS_RECEIVED","LOADING","DONE","XHRBuilder","headersReceived","complete","progress","abort","load","loadEnd","fn","req","XMLHttpRequest","openArgs","open","Object","keys","setRequestHeader","headerName","upload","addEventListener","evt","readyState","XHRProvider","attempt","observable","offset","Subject","all","errorAll","completeAll","nextChunk","chunk","responseText","length","onHeadersReceived","responseChain","transformedResponse","Observable","throw","onUploadProgress","onDownloadProgress","onLoad","onError","onAbort","onLoadEnd","build","transformed","send","requestChain","create"],"mappings":"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","file":"rx-http.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(\"js-cookie\"), require(\"rxjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rx-http\", [\"lodash\", \"js-cookie\", \"rxjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rx-http\"] = factory(require(\"lodash\"), require(\"js-cookie\"), require(\"rxjs\"));\n\telse\n\t\troot[\"rx-http\"] = factory(root[\"_\"], root[\"Cookies\"], root[\"Rx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_21__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8f4d0dcb9607ad8246be","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"_\",\"commonjs2\":[\"lodash\"],\"commonjs\":\"lodash\",\"amd\":\"lodash\"}\n// module id = 0\n// module chunks = 0","/**\n * Base class to be inherited by Interceptors\n * @class\n * @name Interceptor\n */\nexport default class Interceptor {\n  /**\n   * Transforms (or fails) an outgoing request.\n   * @method\n   * @name request\n   * @param {Request} request - The request to be processed\n   * @param {Function<Request>} accept - called on success to process a (potentially transformed) {@link Request}\n   * @param {Function} reject - called on failure to pass an error\n   */\n  request(request, accept, reject) {\n    accept(request);\n  }\n\n\n  /**\n   * Try to recover from a request error so processing can resume.\n   * @method\n   * @name requestError\n   * @param error - The error to be processed\n   * @param {Function} accept - called on success if we were able to recover\n   * @param {Function} reject - called on failure to pass an error\n   */\n  requestError(error, accept, reject) {\n    reject(error);\n  }\n\n  /**\n   * @method\n   * @name response\n   * @param {Response} response - The response to be processed\n   * @param {Function<Response>} accept - called on success to process a (potentially transformed) {@link Response}\n   * @param {Function} reject - called on failure to pass an error\n   */\n  response(response, accept, reject) {\n    accept(response);\n  }\n\n  /**\n   * Try to recover from a response error so processing can resume.\n   * @method\n   * @name responseError\n   * @param error - The error to be processed\n   * @param {Function} accept - called on success if we were able to recover\n   * @param {Function} reject - called on failure to pass an error\n   */\n  responseError(error, accept, reject) {\n    reject(error);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptor.js","/** @private **/\nexport function isFile(value) {\n  return toString.call(value) === '[object File]';\n}\n\n/** @private **/\nexport function isFormData(value) {\n  return toString.call(value) === '[object FormData]';\n}\n\n/** @private **/\nexport function isBlob(value) {\n  return toString.call(value) === '[object Blob]';\n}\n\n/** parseUri 1.2.2\n * (c) Steven Levithan <stevenlevithan.com>\n * MIT License\n * @private\n */\nexport function parseUri(str) {\n  let\to = parseUri.options;\n  let m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  let uri = {};\n  let i = 14;\n\n  while (i--) uri[o.key[i]] = m[i] || '';\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) uri[o.q.name][$1] = $2;\n  });\n\n  return uri;\n};\n\nparseUri.options = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor'\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n  },\n  parser: {\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js","/**\n * @class\n * @name PropertyValidationException\n * @param {String} - property\n */\nclass PropertyValidationException {\n  /**\n   * @constructor\n   * @param {String} - property name\n   * @param value\n   */\n  constructor(property, value) {\n    this.property = property;\n    this.value = value;\n  }\n\n  toString() {\n    return `Value ${this.value} is not valid for property ${this.property}`\n  }\n}\n\nexport default {\n  PropertyValidationException\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/exceptions.js","import {\n  isObject,\n  isString,\n  isUndefined,\n  isEmpty,\n  assign,\n  reduce,\n  endsWith,\n  startsWith,\n  identity,\n  cloneDeep\n} from 'lodash';\nimport { parseUri } from './utilities';\n\nfunction encode(val) {\n  return encodeURIComponent(val)\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%20/g, '+')\n    .replace(/%5B/gi, '[')\n    .replace(/%5D/gi, ']');\n}\n\nfunction property(member, value) {\n  if (isUndefined(value)) {\n    member.get(this);\n  }\n\n  member.set(this);\n  return this;\n}\n\nconst _protocol = new WeakMap();\nconst _user = new WeakMap();\nconst _password = new WeakMap();\nconst _host = new WeakMap();\nconst _port = new WeakMap();\nconst _directory = new WeakMap();\nconst _file = new WeakMap();\nconst _fragment = new WeakMap();\nconst _query = new WeakMap();\n\n/**\n * @class\n * @name Url\n * @param {Object} parts\n */\nclass Url {\n  /**\n   * @constructor\n   * @param {Object} parts\n   */\n  constructor(parts) {\n    if (parts.protocol) _protocol.set(this, parts.protocol);\n    if (parts.user) _user.set(this, parts.user);\n    if (parts.password) _password.set(this, parts.password);\n    if (parts.host) _host.set(this, parts.host);\n    if (parts.port) _port.set(this, parts.port);\n    if (parts.directory) _directory.set(this, parts.directory);\n    if (parts.file) _file.set(this, parts.file);\n    if (parts.fragment) _fragment.set(this, parts.fragment);\n  }\n\n  /**\n   * @method\n   * @name protocol\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the protocol for the url\n   * and returns the current instance.  If value is ommitted, returns the\n   * current protocol.\n   */\n  protocol(value) {\n    return property.call(this, _protocol, value);\n  }\n\n  /**\n   * @method\n   * @name user\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the user and returns\n   * the current instance.  If value is ommitted, returns the current user.\n   */\n  user(value) {\n    return property.call(this, _user, value);\n  }\n\n  /**\n   * @method\n   * @name password\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the password and returns\n   * the current instance.  If value is ommitted, returns the current password.\n   */\n  password(value) {\n    return property.call(this, _password, value);\n  }\n\n  /**\n   * @method\n   * @name host\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the host and returns\n   * the current instance.  If value is ommitted, returns the current host.\n   */\n  host(value) {\n    return property.call(this, _host, value);\n  }\n\n  /**\n   * @method\n   * @name port\n   * @param {String|Number} [value]\n   * @returns {Url|String|Number} - If value is specified, sets the port and returns\n   * the current instance.  If value is ommitted, returns the current port.\n   */\n  port(value) {\n    return property.call(this, _port, value);\n  }\n\n  /**\n   * @method\n   * @name directory\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the directory and returns\n   * the current instance.  If value is ommitted, returns the current directory.\n   */\n  directory(value) {\n    return property.call(this, _directory, value);\n  }\n\n  /**\n   * @method\n   * @name file\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the file and returns\n   * the current instance.  If value is ommitted, returns the current file.\n   */\n  file(value) {\n    return property.call(this, _file, value);\n  }\n\n  /**\n   * @method\n   * @name fragment\n   * @param {String} [value]\n   * @returns {Url|String} - If value is specified, sets the fragment and returns\n   * the current instance.  If value is ommitted, returns the current fragment.\n   */\n  fragment(value) {\n    return property.call(this, _fragment, value);\n  }\n\n  /**\n   * @method\n   * @name isAbsolute\n   * @returns {Boolean} - true if the url is absolute, false if it is relative.\n   */\n  isAbsolute() {\n    return !!this.host();\n  }\n\n  /**\n   * @method\n   * @name isRelative\n   * @returns {Boolean} - true if the url is relative, false if it is absolute.\n   */\n  isRelative() {\n    return !this.isAbsolute();\n  }\n\n  /**\n   * @method\n   * @name query\n   * @param {String|Object} [name] - The name of the query-string parameter\n   * @param [value] - The value of the query-string parameter\n   * @returns {Object|String|Request} -\n   * If no parameters are specified - returns a copy of the entire query hash.\n   * @example\n   * request.query() // returns { \"foo\": \"bar\" }\n   * If only name is specified, and name is a string - returns the value for the key in the query hash.\n   * @example\n   * request.query(\"foo\") // returns \"bar\"\n   * If only name is specified, and name is an object - replaces the entire query hash\n   * and returns the current Request.\n   * @example\n   * request.query({ \"foo\": \"bar\", \"baz\": 1 }).execute()\n   * If name and value are specified - sets the value of name in the query hash\n   * and returns the current Request.\n   * @example\n   * request.query(\"foo\", \"bar\").execute()\n   */\n  query(name, value) {\n    if (!isUndefined(name)) {\n      if (isUndefined(value)) {\n        if (isObject(name)) {\n          _query.set(this, name);\n          return this;\n        }\n        return _query.get(this)[name];\n      }\n      const existing = _query.get(this);\n      existing[name] = value;\n      _query.set(this, existing);\n      return this;\n    }\n\n    return assign({}, _query.get(this));\n  }\n\n  /**\n   * @method\n   * @name userInfo\n   * @returns {String} - returns basic auth credentials in the format\n   * user:password, if both user and password are set.\n   */\n  userInfo() {\n    const u = _user.get(this);\n    const p = _password.get(this);\n\n    if (isString(u) && !isEmpty(u.trim()) && isString(p) && isEmpty(p.trim())) {\n      return `${u}:${p}`;\n    }\n\n    return null;\n  }\n\n  /**\n   * @method\n   * @name authority\n   * @returns {String} - returns the authority portion of the url ([protocol]://[userInfo@]host[:port])\n   */\n  authority() {\n    const pr = _protocol.get(this) ? `${_protocol.get(this)}://` : '';\n    const ui = this.userInfo() ? `${this.userInfo()}@` : '';\n    const h = _host.get(this) || '';\n    const p = _port.get(this) ? `:${_port.get(this)}` : '';\n\n    return pr + ui + h + p;\n  }\n\n  /**\n   * @method\n   * @name path\n   * @returns {String} - returns the path portion of the url\n   */\n  path() {\n    const dir = _directory.get(this) || '';\n    const f = _file.get(this) || '';\n\n    if (endsWith(dir, '/')) {\n      if (startsWith(f, '/')) {\n        return dir + f.substring(1);\n      }\n\n      return dir + f;\n    } else if (startsWith(f, '/')) {\n      return dir + f;\n    }\n\n    return `${dir}/${f}`;\n    return '';\n  }\n\n  /**\n   * @method\n   * @name merge\n   * @param {Url} other - the {@link Url} to merge into this one\n   * @returns {Url} - returns a copy of this {@link Url} with the directory,\n   * file, gragment, path, and query portions from taken from other.  If\n   * any of those properties do not exist in other, they will be removed\n   * from the copy.\n   */\n  merge(other) {\n    const copied = cloneDeep(parts);\n    const otherParts = parseUri(other.toString());\n    const propertiesToMerge = ['directory', 'file', 'fragment', 'path', 'query'];\n    propertiesToMerge.forEach((property) => {\n      if (!!otherParts[property]) {\n        copied[property] = otherParts[property];\n      } else if (!!copied[property]) {\n        delete copied[property];\n      }\n    });\n\n    return new Url(copied);\n  }\n\n  /**\n   * @method\n   * @name toString\n   * @param {Function<Object, String>} serializeQuery - a function that can customize\n   * how the query-string hash is rendered in the resulting url\n   * @returns {String}\n   */\n  toString(serializeQuery) {\n    const auth = this.authority();\n    const p = this.path();\n    const f = this.fragment();\n    const querySerializer = serializeQuery || identity;\n    const q = querySerializer(this.query());\n\n    const fullyQualified = (() => {\n      if (endsWith(auth, '/')) {\n        if (endsWith(p, '/')) {\n          return auth + p.substring(1);\n        }\n\n        return auth + p;\n      } else if (startsWith(p, '/')) {\n        return auth + p;\n      }\n\n      return `${auth}/${p}`;\n    })();\n\n    const queryParts = reduce(q, (accum, value, key) => {\n      let pair = `${encode(key)}=${encode(value)}`;\n\n      accum.push(pair);\n      return accum;\n    }, []);\n\n    const fullyQualifiedWithQuery = (() => {\n      if (!isEmpty(queryParts)) {\n        return `${fullyQualified}?${queryParts.join('&')}`;\n      }\n\n      return fullyQualified;\n    })();\n\n    if (!isEmpty(f)) {\n      return `${fullyQualifiedWithQuery}#${f}`;\n    }\n\n    return fullyQualifiedWithQuery;\n  }\n}\n\n/**\n * @function\n * @name factory\n * @param {Object|String} value - A hash containing the Url parts, or a string\n * representation of a Url\n * @returns {Url}\n */\nUrl.factory = (value) => {\n  if (isString(value)) {\n    return new Url(parseUri(value));\n  }\n  return new Url(value);\n}\n\nexport default Url;\n\n\n\n// WEBPACK FOOTER //\n// ./src/url.js","export default {\n\n  CONTENT_TYPE: \"Content-Type\",\n\n  TRANSFER_ENCODING: \"Transfer-Encoding\"\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/headers.js","import MethodOverride from './method-override';\nimport BodyTransformer from './body-transformer';\nimport XSRF from './xsrf';\nimport ErrorHandling from './error-handling';\n\nexport default {\n  MethodOverride: new MethodOverride(),\n  BodyTransformer: new BodyTransformer(),\n  XSRF: new XSRF(),\n  ErrorHandling: new ErrorHandling()\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/index.js","import { reduce, startsWith, endsWith } from 'lodash';\n\nexport default {\n  separator: '/',\n\n  join() {\n    const separator = this.separator;\n    const initial = arguments[0];\n    const args = [...arguments].slice(1)\n\n    return reduce(args, (accum, value) => {\n      if (value.trim() != '') {\n        if (endsWith(accum, separator) && startsWith(value, separator)) {\n          accum += value.substring(1);\n        } else if (endsWith(accum, separator) || startsWith(value, separator)) {\n          accum += value;\n        } else {\n          accum += '/' + value;\n        }\n      }\n\n      return accum;\n    }, initial);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/path.js","import { isString, isInteger, isArray, isUndefined, assign, defaults, remove } from 'lodash';\nimport Request from './request';\nimport Interceptors from './interceptors';\nimport XHRProvider from './xhr-provider';\nimport Url from './url';\nimport Path from './path';\nimport { PropertyValidationException } from './exceptions';\nimport { parseUri } from './utilities';\n\n/**\n * An HTTP client.\n * @class\n * @name Http\n * @param {Object} [options] - A hash of settings for this client.\n */\nfunction Http(options = {}) {\n  const self = this;\n  const settings = assign({}, Http.defaults, options);\n\n  function property(key, isValid) {\n    return function(value) {\n      if (isUndefined(value)) {\n        return settings[key];\n      }\n\n      if (isValid(value)) {\n        settings[key] = value;\n        return self;\n      }\n\n      throw new PropertyValidationException(key, value);\n    };\n  }\n\n  /**\n   * @method\n   * @name baseUrl\n   * @param {String|Http} [url] - the base URL applied by default to all\n   * requests from this client.\n   * @returns {String|Http} - If url is specified, updates the default baseUrl\n   * for all requests created with this client, and returns the client instance.\n   * If value is ommitted, returns the current baseUrl.\n   */\n  this.baseUrl = property('baseUrl', isString);\n\n  /**\n   * @method\n   * @name timeout\n   * @param {Number} [value] - The request timeout in milliseconds\n   * @returns {Number|Http} - If value is specified, updates the default request\n   * timeout for all requests created with this client, and returns the client\n   * instance.  If value is ommitted, returns the current timeout value.\n   */\n  this.timeout = property('timeout', isInteger);\n\n  /**\n   * @method\n   * @name retries\n   * @param {Number} [value] - The number of retries allowed\n   * @returns {Number|Http} - If count is specified, sets the default number\n   * of retries allowed for requests from this client, and returns the client\n   * instance.  If count is ommitted, returns the current value.\n   */\n  this.retries = property('retries', isInteger);\n\n  /**\n   * @method\n   * @name interceptors\n   * @param {Interceptor[]} [values] - An array of interceptors.\n   * @returns {Interceptor[]|Http} - If values is specified, replaces the default\n   * interceptors for all requests from this client, and returns the client\n   * instance.  If values is ommitted, returns the current array of\n   * interceptors.\n   */\n  this.interceptors = property('interceptors', isArray);\n\n  /**\n   * @method\n   * @name addInterceptor\n   * @param {Interceptor} interceptor - Add the interceptor to the end of the\n   * chain of interceptors.\n   * @return {Http} - The current client instance.\n   */\n  this.addInterceptor = function (interceptor) {\n    settings.interceptors.push(interceptor);\n    return this;\n  };\n\n  /**\n   * @method\n   * @name removeInterceptor\n   * @param {Interceptor} interceptor - Remove the interceptor from the chain of interceptors.\n   * @returns {Http} - The current client instance.\n   */\n  this.removeInterceptor = function (interceptor) {\n    settings.interceptors = remove(settings.interceptors, (i) => i === interceptor);\n    return this;\n  };\n\n  /**\n   * @method\n   * @name request\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).request('/some/stuff', {\n   *   method: 'POST',\n   *   body: { foo: \"bar\", baz: 1 },\n   *   timeout: 10000\n   * })\n   */\n  const request = this.request = function (url, options = {}) {\n    let fullUrl = url;\n    if (settings.baseUrl) {\n      fullUrl = Path.join(settings.baseUrl, url);\n    }\n\n    const parsed = parseUri(fullUrl);\n    const config = defaults(options, settings);\n\n    assign(parsed.query, options.query);\n    assign(config, { url: new Url(parsed) });\n\n    return new Request(config);\n  };\n\n  function generateRequestMethod(method) {\n    return function (url, options = {}) {\n      return request(url, assign({ method }, options));\n    };\n  }\n\n  /**\n   * @method\n   * @name head\n   * Helper method for request.  Automatically sets method to HEAD.\n   * @param {string} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).head('/some/stuff', {\n   *   retries: 2,\n   *   timeout: 10000\n   * })\n   */\n  this.head = generateRequestMethod('HEAD');\n\n  /**\n   * @method\n   * @name get\n   * Helper method for request.  Automatically sets method to GET.\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).get('/some/stuff', {\n   *   retries: 2\n   *   timeout: 10000\n   * })\n   */\n  this.get = generateRequestMethod('GET');\n\n  /**\n   * @method\n   * @name options\n   * Helper method for request.  Automatically sets method to OPTIONS.\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).head('/some/stuff', {\n   *   retries: 2,\n   *   timeout: 10000\n   * })\n   */\n  this.options = generateRequestMethod('OPTIONS');\n\n  /**\n   * @method\n   * @name delete\n   * Helper method for request.  Automatically sets method to DELETE.\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).delete('/some/stuff', {\n   *   retries: 2,\n   *   timeout: 10000\n   * })\n   */\n  this.delete = generateRequestMethod('DELETE');\n\n  /**\n   * @method\n   * @name trace\n   * Helper method for request.  Automatically sets method to TRACE.\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).trace('/some/stuff', {\n   *   retries: 2,\n   *   timeout: 10000\n   * })\n   */\n  this.trace = generateRequestMethod('TRACE');\n\n  /**\n   * @method\n   * @name post\n   * Helper method for request.  Automatically sets method to POST.\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).post('/some/stuff', {\n   *   body: { foo: \"bar\", baz: 1 },\n   *   timeout: 10000\n   * })\n   */\n  this.post = generateRequestMethod('POST');\n\n  /** @method\n  * @name put\n  * Helper method for request.  Automatically sets method to PUT.\n  * @param {String} url - the URL where the request will be sent.\n  * @param {Object} [options] - add/override settings for this request.\n  * @return {Request}\n  * @example\n  * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).put('/some/stuff', {\n  *   body: { foo: \"bar\", baz: 1 },\n  *   timeout: 10000\n  * })\n  **/\n  this.put = generateRequestMethod('PUT');\n\n  /**\n   * @method\n   * @name patch\n   * Helper method for request.  Automatically sets method to PATCH.\n   * @param {String} url - the URL where the request will be sent.\n   * @param {Object} [options] - add/override settings for this request.\n   * @return {Request}\n   * @example\n   * new Http({ baseUrl: 'http://mydomain.com', timeout: 5000 }).patch('/some/stuff', {\n   *   body: { foo: \"bar\", baz: 1 },\n   *   timeout: 10000\n   * })\n   */\n  this.patch = generateRequestMethod('PATCH');\n}\n\nHttp.defaults = {\n  baseUrl: '',\n  retries: 0,\n  timeout: 30000,\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n  withCredentials: false,\n  interceptors: [\n    Interceptors.MethodOverride,\n    Interceptors.BodyTransformer,\n    Interceptors.XSRF,\n    Interceptors.ErrorHandling\n  ],\n  provider: XHRProvider\n};\n\nmodule.exports = Http;\n\n\n\n// WEBPACK FOOTER //\n// ./src/http.js","import Url from './url';\nimport Http from './http';\nimport Headers from './headers';\nimport Interceptor from './interceptor';\nimport Interceptors from './interceptors';\nimport Exceptions from './exceptions';\n\nexport {\n  Url,\n  Http,\n  Headers,\n  Interceptor,\n  Interceptors,\n  Exceptions\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { isObject } from 'lodash';\nimport { isFile, isFormData, isBlob } from '../utilities';\nimport Interceptor from '../interceptor';\n\n/**\n * Tries to automatically detect the response content type and deserialize the\n * raw body into the appropriate type.\n * @class\n * @name BodyTransformer\n */\nexport default class BodyTransformer extends Interceptor {\n  request(request, accept, reject) {\n    const body = request.body();\n\n    if (isObject(body) && !isFile(body) && !isFormData(body) && !isBlob(body)) {\n      const json = JSON.stringify(body);\n\n      request.body(json);\n    }\n\n    accept(request);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/body-transformer.js","import Interceptor from '../interceptor';\n\n/**\n * Rejects a response with a non-20x status-code.\n * @class\n * @name ErrorHandling\n */\nexport default class ErrorHandling extends Interceptor {\n  response(response, accept, reject) {\n    if (response.status() / 100 === 2) {\n      accept(response);\n    } else {\n      reject(response);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/error-handling.js","import Interceptor from '../interceptor';\n\nconst BROWSER_METHODS = ['GET', 'POST'];\n\n/**\n * If the HTTP verb is not one understood by Browsers, change the verb\n * to a POST and send the X-HTTP-Method-Override header with the original\n * method.  This should generally be understood by the routers of most\n * server backends.\n * @class\n * @name MethodOverride\n */\nexport default class MethodOverride extends Interceptor {\n  request (request, accept, reject) {\n    const originalMethod = request.method();\n\n    if (!BROWSER_METHODS.some(m => m === originalMethod)) {\n      request\n        .method('POST')\n        .header('X-HTTP-Method-Override', originalMethod);\n    }\n\n    accept(request);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/method-override.js","import { isUndefined, isString } from 'lodash';\nimport Cookies from 'js-cookie';\nimport Interceptor from '../interceptor';\n\n/**\n * Reads the value from the configured XSRF cookie and sends it back to the\n * server and sends it back in the configured header.\n * @class\n * @name XSRF\n */\nexport default class XSRF extends Interceptor {\n  request(request, accept, reject) {\n    const xsrfToken = Cookies.get(request.xsrfCookieName());\n    const xsrfHeader = request.xsrfHeaderName();\n\n    if (!isUndefined(xsrfToken) && isString(xsrfToken)) {\n      request.header(xsrfHeader, xsrfToken);\n    }\n\n    accept(request);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/xsrf.js","import { isEmpty, head, tail, partial } from 'lodash';\n\n/**\n * Runs the request interceptors, and requestError interceptors if necessary.\n * @private\n * @class\n * @param {Object[]} interceptors - The array of interceptors to be run\n * @param {Function} accept - Callback that is invoked with the final request\n * object after all interceptors have run successfully.\n * @param {Function} reject - Callback that is invoked with an error object\n * if all of the interceptors fail to recover from an error.\n */\nexport default function RequestInterceptorChain(interceptors, accept, reject) {\n  /**\n   * Handler for a rejected interceptor.  Runs requestError interceptor for\n   * all interceptors following the failure, in an attempt to recover.\n   * If one of the interceptors manages to recover, hop back into the next\n   * interceptor after the initial failure.\n   */\n  function failure(remaining, recover) {\n    return function (error) {\n      function step(rest, err) {\n        if (!isEmpty(rest)) {\n          const interceptor = head(rest);\n          const xs = tail(rest);\n          const transform = interceptor.requestError;\n          const next = partial(step, xs);\n\n          transform(err, recover, next);\n        } else {\n          reject(err);\n        }\n      }\n\n      step(remaining, error);\n    };\n  }\n\n  /** @method\n   * Runs the request through the chain of request interceptors\n   * @name run\n   * @param {Request} request\n   */\n  this.run = function (request) {\n    function step(remaining, next) {\n      if (!isEmpty(remaining)) {\n        const interceptor = head(remaining);\n        const xs = tail(remaining);\n        const transform = interceptor.request;\n        const success = partial(step, xs);\n\n        transform(request, success, failure(xs, success));\n      } else {\n        accept(request);\n      }\n    }\n\n    step(interceptors, request);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/request-interceptor-chain.js","import { isUndefined, identity, assign, isString, isObject } from 'lodash';\nimport { PropertyValidationException } from './exceptions';\nimport Path from './path';\nimport Url from './url';\nimport { parseUri } from './utilities';\n\nlet _method = new WeakMap();\nlet _headers = new WeakMap();\nlet _body = new WeakMap();\nlet _url = new WeakMap();\nlet _retries = new WeakMap();\nlet _interceptors = new WeakMap();\nlet _xsrfCookieName = new WeakMap();\nlet _xsrfHeaderName = new WeakMap();\nlet _withCredentials = new WeakMap();\nlet _username = new WeakMap();\nlet _password = new WeakMap();\nlet _provider = new WeakMap();\n\n/**\n * A Request should only ever be created by an instance of {@link Http}\n * @class\n */\nexport default class Request {\n  /**\n   * @constructor\n   * @param {Object} config - Override default settings for this Request only.\n   */\n  constructor(config) {\n    _method.set(this, config.method || null);\n    _headers.set(this, config.headers || {});\n    _body.set(this, config.body || null);\n    _url.set(this, config.url || null);\n    _retries.set(this, config.retries || 0);\n    _interceptors.set(this, config.interceptors || {})\n    _xsrfCookieName.set(this, config.xsrfCookieName);\n    _xsrfHeaderName.set(this, config.xsrfHeaderName);\n    _withCredentials.set(this, !!config.withCredentials);\n    _username.set(this, config.username || null);\n    _password.set(this, config.password || null);\n    _provider.set(this, config.provider);\n  }\n\n  /**\n   * @method\n   * @name method\n   * @param {String} [value] - The HTTP method for this request\n   * @returns {String|Request} - If value is specified, sets the HTTP method\n   * for this request and returns the current Request.  If value is ommitted,\n   * returns the current HTTP method\n   */\n  method(value) {\n    if (isUndefined(value)) {\n     return _method.get(this);\n    }\n\n    _method.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name header\n   * @param {String} name - The name of the header\n   * @param {String} [value] - The value to assign to the header\n   * @returns {String|Request} - If value is specified, sets the header\n   * and returns the current Request.  If value is ommitted, returns the\n   * value for the header.\n   */\n  header(name, value) {\n    let headers = _headers.get(this);\n    if (isUndefined(value)) {\n      return headers[name];\n    }\n    headers[name] = value.toString();\n    _headers.set(this, headers);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name headers\n   * @param {Object} [value] - The hash of headers to send with this request.\n   * Replaces any existing headers\n   * @returns {Object|Request} - If value is specified, sets the headers\n   * and returns the current Request.  If value is ommitted, returns a copy\n   * of the current headers.\n   */\n  headers(value) {\n    if (isUndefined(value)) {\n      return assign({}, _headers.get(this));\n    }\n\n    _headers.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name body\n   * @param {Object|FormData|Blob|File|String} [value] - The body for this request\n   * @returns {Object|FormData|Blob|File|String|Request} - If value is specified, sets the body\n   * for this request and returns the current Request.  If value is ommitted,\n   * returns the current body\n   */\n  body(value) {\n    if (isUndefined(value)) {\n     return _body.get(this);\n    }\n\n    _body.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name url\n   * @param {Url} [value] - The {@link Url} for this request.\n   * @returns {Url|Request} - If value is specified, sets the {@link Url} for\n   * this request and returns the current Request.  If value is ommitted,\n   * returns the current {@link Url}.\n   */\n  url(value) {\n    if (isUndefined(value)) {\n      return _url.get(this);\n    }\n\n    if (value instanceof Url) {\n      _url.set(this, value);\n      return this;\n    }\n\n    if (isString(value) || isObject(value)) {\n      const newUrl = Url.factory(url);\n      if (newUrl.isAbsolute()) {\n        _url.set(this, newUrl);\n        return this;\n      } else if (_url.get(this) && _url.get().isAbsolute()) {\n        _url.set(this, _url.get(this).merge(newUrl));\n        return this;\n      }\n    }\n\n    throw new PropertyValidationException('url', url);\n  }\n\n  /**\n   * @method\n   * @name retries\n   * @param {Number} [value] - The number of times this request will be retried on failure.\n   * @returns {Number|Request} - If value is specified, sets the number of retries\n   * for this request and returns the current Request.  If value is ommitted,\n   * returns the current number of retries.\n   */\n  retries(value) {\n    if (isUndefined(value)) {\n      return _retries.get(this);\n    }\n    _retries.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name interceptors\n   * @param {Interceptor[]} [value] - The set of interceptors to be run against this Request and/or Response\n   * @returns {Interceptor[]|Request} - If value is specified, overrides the current set of interceptors\n   * for this Request and/or Response and returns the current Request.  If value is ommitted,\n   * returns the current set of interceptors.\n   */\n  interceptors(value) {\n    if (isUndefined(value)) {\n      return _interceptors.get(this);\n    }\n    _interceptors.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name xsrfCookieName\n   * @param {String} [value] - The name of the XSRF cookie\n   * @returns {String|Request} - If the value is specified, sets the name of the XSRF Cookie\n   * and returns the current Request.  If value is ommitted, returns the current name.\n   */\n  xsrfCookieName(value) {\n    if (isUndefined(value)) {\n      return _xsrfCookieName.get(this);\n    }\n    _xsrfCookieName.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name xsrfHeaderName\n   * @param {String} [value] - The name of the XSRF header\n   * @returns {String|Request} - If the value is specified, sets the name of the XSRF Header\n   * and returns the current Request.  If value is ommitted, returns the current name.\n   */\n  xsrfHeaderName(value) {\n    if (isUndefined(value)) {\n      return _xsrfHeaderName.get(this);\n    }\n    _xsrfHeaderName.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name withCredentials\n   * @param {Boolean} [value] - Flag indicating whether cross-site AccessControl\n   * requests should be made using cookies, authorization headers, or TLS client\n   * certificates.  More detail: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n   * @returns {Boolean|Request} - If the value is specified, sets the withCredentials flag\n   * and returns the current Request.  If value is ommitted, returns the current\n   * value of the flag.\n   */\n  withCredentials(value) {\n    if (isUndefined(value)) {\n      return this.config.withCredentials = value;\n    }\n    this.config.withCredentials = value;\n    return this;\n  }\n\n  /**\n   * @method\n   * @name username\n   * @param {String} [value] - Basic auth username\n   * @returns {String|Request} - If the value is specified, sets the username and returns\n   * the current Request.  If value is ommitted, retursn the current username.\n   */\n  username(value) {\n    if (isUndefined(value)) {\n      return _username.get(this);\n    }\n    _username.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name password\n   * @param {String} [value] - Basic auth password\n   * @returns {String|Request} - If the value is specified, sets the password and returns\n   * the current Request.  If value is ommitted, retursn the current password.\n   */\n  password(value) {\n    if (isUndefined(value)) {\n      return _password.get(this);\n    }\n    _password.set(this, value);\n    return this;\n  }\n\n  /**\n   * @method\n   * @name execute\n   * @returns {Object} - Executes the request and returns an object containing\n   * the response, uploadProgress, and downloadProgress streams.\n   * @example\n   * var streams = request.execute();\n   * streams.flatMap(response => response.body()).forEach((body) => console.log(body));\n   * streams.flatmap(response => response.uploadProgress()).forEach((event) => console.log(event));\n   * streams.flatMap(response => response.downloadProgress()).forEach((event) => console.log(event));\n   */\n  execute() {\n    const provider = _provider.get(this);\n    return provider(this);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","import { isEmpty, head, tail, partial } from 'lodash';\n\n/**\n * Runs the response interceptors, and responseError interceptors if necessary.\n * @private\n * @class\n * @param {Interceptor[]} interceptors - The array of interceptors to be run\n * @param {Function} accept - Callback that is invoked with the final response\n * object after all interceptors have run successfully.\n * @param {Function} reject - Callback that is invoked with an error object\n * if all of the interceptors fail to recover from an error.\n */\nexport default function ResponseInterceptorChain(interceptors, accept, reject) {\n  /**\n   * Handler for a rejected interceptor.  Runs responseError interceptor for\n   * all interceptors following the failure, in an attempt to recover.\n   * If one of the interceptors manages to recover, hop back into the next\n   * interceptor after the initial failure.\n   */\n  function failure(remaining, recover) {\n    return function (error) {\n      function step(rest, err) {\n        if (isEmpty(rest)) {\n          const interceptor = head(rest);\n          const xs = tail(rest);\n          const transform = interceptor.responseError;\n          const next = partial(step, xs);\n\n          transform(err, recover, next);\n        } else {\n          reject(err);\n        }\n      }\n\n      step(remaining, error);\n    };\n  }\n\n  /** @method\n   * Runs the response through the chain of response interceptors\n   * @name run\n   * @param {Response} response\n   */\n  this.run = function (response) {\n    function step(remaining, next) {\n      if (!isEmpty(remaining)) {\n        const interceptor = head(remaining);\n        const xs = tail(remaining);\n        const transform = interceptor.response;\n        const success = partial(step, xs);\n\n        transform(response, success, failure(xs, success));\n      } else {\n        accept(response);\n      }\n    }\n\n    step(interceptors, response);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/response-interceptor-chain.js","import { isUndefined, isFunction } from 'lodash';\nimport Headers from './headers';\n\nlet _status = new WeakMap();\nlet _statusText = new WeakMap();\nlet _headers = new WeakMap();\nlet _body = new WeakMap();\nlet _uploadProgress = new WeakMap();\nlet _downloadProgress = new WeakMap();\nlet _isChunked = new WeakMap();\n\nfunction evaluateLazy(property) {\n  const value = property.get(this);\n  if (!isUndefined(value) && isFunction(value)) {\n    property.set(this, value());\n  }\n  return property.get(this);\n}\n\n/**\n * Immutable response container.  Should only be created by executing a {@link Request}.\n * @class\n * @name Response\n */\nexport default class Response {\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {Observable<String>} body - An Observable representing the body/entity of the response\n   * @param {Observable<Object>} uploadProgress - An Observable representing a stream of all upload progress events\n   * @param {Observable<Object>} downloadProgress - An Observable representing a stram of all download progress events\n   */\n  constructor(xhr, body, uploadProgress, downloadProgress) {\n    _status.set(this, xhr.status);\n    _statusText.set(this, xhr.statusText);\n    _headers.set(this, xhr.getAllResponseHeaders());\n    _body.set(this, body);\n    _uploadProgress.set(this, uploadProgress);\n    _downloadProgress.set(this, downloadProgress);\n  }\n\n  /**\n   * @method\n   * @name uploadProgress\n   * @returns {Observable<Object>} - an Observable stream of upload progress events\n   */\n  uploadProgress() {\n    return evaluateLazy.call(this, _uploadProgress);\n  }\n\n  /**\n   * @method\n   * @name downloadProgress\n   * @returns {Observable<Object>} - an Observable stream of download progress events\n   */\n  downloadProgress() {\n    return evaluateLazy.call(this, _downloadProgress);\n  }\n\n  /**\n   * @method\n   * @name body\n   * @returns {Observable<String>} - An Observable stream of the response body/entity contents\n   */\n  body() {\n    return evaluateLazy.call(this, _body);\n  }\n\n  /**\n   * @method\n   * @name status\n   * @returns {Number} - The HTTP status code of the response\n   */\n  status() {\n    return _status.get(this);\n  }\n\n  /**\n   * @method\n   * @name statusText\n   * @returns {String} - The status text of the response\n   */\n  statusText() {\n    return _statusText.get(this);\n  }\n\n  /**\n   * @method\n   * @name headers\n   * @returns {Object} - An object containing the response headers\n   * @example\n   * { \"Content-Type\": \"application/json\", \"Content-Length\": \"22\" }\n   */\n  headers() {\n    return _headers.get(this);\n  }\n\n  /**\n   * Look-up the value of an individual resonse header\n   * @method\n   * @name header\n   * @param {String} name - The name of the header to lookup\n   * @returns {String} - The value of the header, or undefined if not found\n   */\n  header(name) {\n    return _headers.get(this)[name];\n  }\n\n  /**\n   * @method\n   * @name isChunked\n   * @returns {Boolean} - Determines if this is a chunked response.  A chunked\n   * response will send each chunk through the {@link body} stream.  A non-chunked\n   * response will only push the final result through the stream.\n   */\n  isChunked() {\n    if (!_isChunked.has(this)) {\n      let transferEncoding = (this.header(Headers.TRANSFER_ENCODING) || '').toLowerCase();\n      let isChunked = transferEncoding.indexOf('chunked') > -1 ||\n                      transferEncoding.indexOf('identity') > -1;\n      // Detect SPDY. It uses chunked transfer but doesn't set the Transfer-Encoding header.\n      if (!isChunked) {\n        let c = window.chrome;\n        let loadTimes = c && c.loadTimes && c.loadTimes();\n        let chromeSpdy = loadTimes && loadTimes.wasFetchedViaSpdy;\n        let ffSpdy = !!this.header('X-Firefox-Spdy');\n        isChunked = ffSpdy || chromeSpdy;\n      }\n      _isChunked.set(this, isChunked);\n    }\n    return _isChunked.get(this);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/response.js","import { isInteger, partial, noop } from 'lodash';\n\nconst STATE = {\n  UNSENT: 0,\n  OPEN: 1,\n  HEADERS_RECEIVED: 2,\n  LOADING: 3,\n  DONE: 4\n}\n\n/**\n * Internal class used to construct and XMLHttpRequest\n * @private\n * @class\n * @name XHRBuilder\n */\nexport default class XHRBuilder {\n  constructor() {\n    this.headersReceived = noop;\n    this.downloadProgress = noop;\n    this.uploadProgress = noop;\n    this.complete = noop;\n    this.progress = noop;\n    this.error = noop;\n    this.abort = noop;\n    this.load = noop;\n    this.loadEnd = noop;\n  }\n\n  onHeadersReceived(fn) {\n    this.headersReceived = fn;\n    return this;\n  }\n\n  onDownloadProgress(fn) {\n    this.downloadProgress = fn;\n    return this;\n  }\n\n  onUploadProgress(fn) {\n    this.uploadProgress = fn;\n    return this;\n  }\n\n  onError(fn) {\n    this.error = fn;\n    return this;\n  }\n\n  onAbort(fn) {\n    this.abort = fn;\n    return this;\n  }\n\n  onLoad(fn) {\n    this.load = fn;\n    return this;\n  }\n\n  onLoadEnd(fn) {\n    this.loadEnd = fn;\n    return this;\n  }\n\n  request(req) {\n    this.req = req;\n    return this;\n  }\n\n  build() {\n    const self = this;\n    const request = this.req;\n    const xhr = new XMLHttpRequest();\n\n    const openArgs = [request.method(), request.url().toString(), true];\n    if (request.username()) {\n      openArgs.push(request.username());\n\n      if (request.password()) {\n        openArgs.push(request.password());\n      }\n    }\n\n    xhr.open(...openArgs);\n\n    if (isInteger(request)) {\n      xhr.timeout = request.timeout();\n    }\n\n    const headers = request.headers();\n\n    Object.keys(headers).forEach(headerName => {\n      xhr.setRequestHeader(headerName, headers[headerName]);\n    });\n\n    if (xhr.upload) {\n      xhr.upload.addEventListener('progress', self.uploadProgress);\n      xhr.upload.addEventListener('error', self.error);\n      xhr.upload.addEventListener('abort', self.abort);\n    }\n\n    xhr.addEventListener('progress', self.downloadProgress);\n    xhr.addEventListener('error', self.error);\n    xhr.addEventListener('abort', self.abort);\n    xhr.addEventListener('load', self.load);\n    xhr.addEventListener('loadend', self.loadEnd);\n\n    xhr.addEventListener('readystatechange', (evt) => {\n      if (xhr.readyState === STATE.HEADERS_RECEIVED) {\n        self.headersReceived(evt);\n      }\n    });\n\n    return xhr;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr-builder.js","import { partial, isInteger } from 'lodash';\nimport Rx from 'rxjs';\nimport XHRBuilder from './xhr-builder';\nimport Response from './response';\nimport RequestInterceptorChain from './request-interceptor-chain';\nimport ResponseInterceptorChain from './response-interceptor-chain';\n\n/** @function\n * Provider-implementation for browser-based clients.  Providers are simply\n * functions that take in a {@link Request} and return an RxJS Observable\n * that eventually contains the {@link Response}.\n * @name XHRProvider\n * @param {Request} request\n * @returns {Observable<Response>}\n */\nexport default function XHRProvider(request) {\n  const interceptors = request.interceptors();\n\n  function attempt(observable) {\n    let response;\n    let offset = 0;\n    let body = new Rx.Subject();\n    let uploadProgress = new Rx.Subject();\n    let downloadProgress = new Rx.Subject();\n    let all = [observable, body, uploadProgress, downloadProgress];\n\n    function errorAll(err) {\n      all.forEach(o => o.error(err));\n    }\n\n    function completeAll() {\n      all.forEach(o => o.complete());\n    }\n\n    function nextChunk() {\n      let chunk = xhr.responseText.slice(offset);\n      offset = xhr.responseText.length;\n      body.next(chunk);\n    }\n\n    const xhr = new XHRBuilder()\n      .request(request)\n      .onHeadersReceived((evt) => {\n        response = new Response(\n          xhr,\n          body,\n          uploadProgress,\n          downloadProgress\n        );\n\n        const responseChain = new ResponseInterceptorChain(\n          interceptors,\n          (transformedResponse) => observable.next(transformedResponse),\n          Rx.Observable.throw\n        );\n\n        responseChain.run(response);\n      })\n      .onUploadProgress((evt) => {\n        uploadProgress.next(evt);\n      })\n      .onDownloadProgress((evt) => {\n        downloadProgress.next(evt);\n        if (response.isChunked()) {\n          nextChunk();\n        }\n      })\n      .onLoad((evt) => {\n        if (response.isChunked()) {\n          if (xhr.responseText.length > offset) {\n            nextChunk();\n          }\n        } else {\n          body.next(xhr.responseText);\n        }\n      })\n      .onError(Rx.Observable.throw)\n      .onAbort(errorAll)\n      .onLoadEnd(completeAll)\n      .build();\n\n    const success = transformed => {\n      if (!!transformed.body()) xhr.send(transformed.body());\n      else xhr.send();\n    };\n\n    const requestChain = new RequestInterceptorChain(\n      interceptors,\n      success,\n      (err) => {\n        Rx.Observable.throw(err);\n        completeAll();\n      }\n    );\n\n    requestChain.run(request);\n  }\n\n  return Rx.Observable.create(attempt);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr-provider.js","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Cookies\",\"commonjs2\":[\"js-cookie\"],\"commonjs\":\"js-cookie\",\"amd\":\"js-cookie\"}\n// module id = 20\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_21__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Rx\",\"commonjs2\":[\"rxjs\"],\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}